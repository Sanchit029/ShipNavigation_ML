# Ship Navigation & Weather Heuristics Platform

## Overview
This project is a ship navigation and route optimization platform that leverages weather, wind, and ocean current data to generate dynamic heuristics for optimal pathfinding. The system combines real-time data with historical heuristics, allowing users to customize the balance between prediction and real-time adaptation. The platform features a Pygame-based interactive UI for route selection and visualization, and supports advanced data processing and model training for heuristic generation.

## Features
- **Interactive Route Planning:** Fullscreen Pygame UI for selecting start/end points and visualizing optimal ship routes.
- **Dynamic Heuristics:** Combines past heuristics and current weather/ocean data for flexible, customizable pathfinding.
- **Weather & Ocean Data Integration:** Uses Open-Meteo and OpenWeatherMap APIs, as well as preprocessed datasets for wind and ocean currents.
- **Customizable Modes:** Fast, Safe, and Eco modes for both cargo and passenger ships, with tunable heuristic weights.
- **Data Processing & Model Training:** Scripts for preprocessing weather data, training models, and generating heuristics.
- **Visualization:** Feature importance plots and weather overlays for transparency and analysis.

## Directory Structure
```
├── ActualMain.py            # Main Pygame application for route planning
├── BackupMain.py            # Backup/alternative main UI logic
├── Data_PreProcessing.py    # Scripts for downloading and preprocessing weather data
├── Data_Training.py         # Model training and heuristic calculation
├── heuristics_generator.py  # Generates and saves heuristics using training scripts
├── heuristicRetriever.py    # Loads and retrieves heuristic values for coordinates
├── WindRetriever.py         # Retrieves wind direction from preprocessed data
├── currentDirRetriever.py   # Retrieves ocean current direction from preprocessed data
├── CoordConv.py             # Coordinate conversion utilities
├── uielements.py            # UI components for Pygame interface
├── weatherDisplay.py        # Weather data visualization in UI
├── storage.py               # Map boundary and persistent data
├── split_by_date/           # Contains daily prediction and data CSVs
├── *.csv, *.pkl, *.nc       # Data files (weather, wind, current, etc.)
├── feature_importance_*.png # Feature importance plots
├── README.md                # Project documentation
```

## Setup & Installation
1. **Clone the repository and install dependencies:**
   - Python 3.8+
   - Install required packages:
     ```bash
     pip install pygame pandas numpy matplotlib scikit-learn xgboost requests python-dotenv aiohttp shapely openmeteo-requests requests-cache retry-requests
     ```
2. **API Keys:**
   - For weather overlays, set your OpenWeatherMap API key in a `.env` file:
     ```
     api_key=YOUR_OPENWEATHERMAP_API_KEY
     ```
3. **Data Preparation:**
   - Ensure all required `.csv` and `.pkl` data files are present (see directory structure).
   - To generate or update heuristics, run:
     ```bash
     python heuristics_generator.py
     ```

## Usage
- **Run the main application:**
  ```bash
  python ActualMain.py
  ```
- **Select start and end points** on the map, choose ship type and mode, and visualize the optimal route.
- **Weather and ocean data** are displayed for departure and destination.
- **Feature importance plots** are generated during model training for transparency.

## Data & Heuristics
- **split_by_date/** contains daily predictions and data CSVs. The naming is historical; these files show how heuristics evolve over time, using both past heuristics and current data.
- **Heuristics** are generated by combining previous predictions with real-time weather and ocean data, allowing for customizable reliance on prediction vs. real-time data.
- **Customization:**
  - You can adjust the weights for different features (past heuristics, pressure, temperature, wind, etc.) in `Data_Training.py` (see the `WeatherHeuristicTrainer` class).
  - After changing weights, rerun `heuristics_generator.py` to update the heuristics and plots.

## Main Scripts
- `ActualMain.py`: Main UI and route planning logic.
- `Data_PreProcessing.py`: Downloads and preprocesses weather data.
- `Data_Training.py`: Trains models and calculates heuristics.
- `heuristics_generator.py`: Orchestrates heuristic generation and saving.
- `heuristicRetriever.py`: Loads heuristics for use in the main app.
- `WindRetriever.py` / `currentDirRetriever.py`: Retrieve wind/current data for coordinates.
- `uielements.py`, `weatherDisplay.py`: UI and visualization components.

## Credits
- Developed for SIH 2024 by [Your Team Name].
- Uses data from Open-Meteo, OpenWeatherMap, and GEBCO.

---
For any issues or contributions, please open an issue or submit a pull request.